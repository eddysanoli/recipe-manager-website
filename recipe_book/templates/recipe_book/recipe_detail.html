{% extends 'recipe_book/base.html' %}
{% load static %}

<!-- NOTE: Context object name = "recipe" -->
{% block content %}
    
    <h1>{{ recipe.title }}</h1>
    <small>{{ recipe.date_posted|date:"F d, Y" }}</small><br>
    <small>Posted by {{ recipe.author }}</small><br>

    <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
    <a type="button" class="btn btn-outline-dark" href="{% url 'recipe-delete' recipe.id %}"><i class="fa-solid fa-trash"></i> DELETE</a>
    <a type="button" class="btn btn-outline-dark" href="{% url 'recipe-update' recipe.id %}"><i class="fas fa-edit"></i> EDIT</a>


    <p>{{ recipe.description }}</p>

    <hr>

    <h3>Ingredients</h3>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Ingredient</th>
                <th scope="col">Amount</th>
                <th scope="col">Unit</th>
                <th scope="col">Cost</th>
            </tr>
        </thead>
        
        <tbody>
            {% for ingredient in recipe.ingredients %}
                <tr>
                    <th scope="row">{{ ingredient.id }}</th>
                    <td>{{ ingredient.name }}</td>
                    <td>{{ ingredient.amount }}</td>
                    <td>{{ ingredient.unit }}</td>
                    <td>${{ ingredient.cost }}</td>
                </tr>
            {% endfor %}

            <tr>
                <td class="table-active"></td>
                <td class="table-active"></td>
                <td class="table-active"></td>
                <td class="table-active">Total Recipe Cost</td>
                <td class="table-active">${{ recipe.total_cost }}</td>
            </tr>
        </tbody>
        
    </table>


{% endblock %}